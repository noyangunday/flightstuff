{"version":3,"sources":["component/app/logo.png","component/tile/Tile.js","component/loader/Loader.js","utils/Utils.js","component/panel/Panel.js","data/Flight.js","data/Aircraft.js","component/date-picker/DatePicker.js","component/aircraft-details/AircraftDetails.js","component/rotation-tile/RotationTile.js","component/app/App.js","serviceWorker.js","index.js"],"names":["module","exports","Tile","_this","this","react_default","a","createElement","className","id","props","selected","onClick","selectCb","layout","React","Component","Loader","version","xmlns","x","y","viewBox","enableBackground","fill","d","attributeName","attributeType","type","dur","from","to","repeatCount","Utils","object","pathToProperty","path","split","obj","length","shift","Panel","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","fetchStatus","offset","data","filter","fetch","_this2","limit","undefined","total","Math","min","setState","Axios","get","tile","model","endpoint","join","then","response","concat","getProperty","dataPath","sizePath","catch","error","errorCode","item","_this3","value","includes","map","i","proto","forEach","field","component_tile_Tile","assign","selectedTile","key","onTileSelected","bind","_this4","_this5","onChange","document","getElementById","placeholder","style","float","alignment","src","logoUrl","alt","name","renderFilter","renderTiles","component_loader_Loader","renderLoadMore","Flight","config","origin","readable_departure","destination","readable_arrival","Aircraft","ident","DatePicker","canGoBack","dateChangeCb","date","AircraftDetails","trunc","rotation","reduce","current","arrivaltime","departuretime","title","aircraft","details","economySeats","base","utilisation","calculateUtilisation","RotationTile","flight","App","Moment","startOf","toast","today","endOf","tomorrow","add","format","dateKey","valueOf","toString","acKey","currentAircraft","time","showToast","message","setTimeout","direction","newDate","switchRotation","currentDate","updateUtilisationBar","validateAdd","push","pop","canvas","refs","getContext","ctx","fillStyle","fillRect","width","height","flightStart","flightEnd","cooldownEnd","logo","component_panel_Panel","onFlightSelected","onAircraftSelected","component_date_picker_DatePicker","currentDateString","onDateChanged","component_aircraft_details_AircraftDetails","ref","index","component_rotation_tile_RotationTile","onDeleteFlight","Boolean","window","location","hostname","match","ReactDOM","render","component_app_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6edd606d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\nimport './Tile.css';\r\n\r\nclass Tile extends React.Component {\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"Tile\" id={this.props.selected ? \"SelectedTile\" : \"Tile\"} onClick={() => { this.props.selectCb(); }}>\r\n        {this.props.layout()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tile;\r\n","import React from 'react';\r\nimport \"./Loader.css\"\r\n\r\nclass Loader extends React.Component {\r\n    render() {\r\n        return (\r\n            <svg className=\"Loader\" version=\"1.1\" id=\"L7\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 100 100\" enableBackground=\"new 0 0 100 100\">\r\n                <path fill=\"#fff\" d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r\n                c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\r\n                    <animateTransform \r\n                        attributeName=\"transform\" \r\n                        attributeType=\"XML\" \r\n                        type=\"rotate\"\r\n                        dur=\"2s\" \r\n                        from=\"0 50 50\"\r\n                        to=\"360 50 50\" \r\n                        repeatCount=\"indefinite\" />\r\n                </path>\r\n                <path fill=\"#fff\" d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r\n                c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\r\n                    <animateTransform \r\n                        attributeName=\"transform\" \r\n                        attributeType=\"XML\" \r\n                        type=\"rotate\"\r\n                        dur=\"1s\" \r\n                        from=\"0 50 50\"\r\n                        to=\"-360 50 50\" \r\n                        repeatCount=\"indefinite\" />\r\n                </path>\r\n                <path fill=\"#fff\" d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r\n                L82,35.7z\">\r\n                    <animateTransform \r\n                        attributeName=\"transform\" \r\n                        attributeType=\"XML\" \r\n                        type=\"rotate\"\r\n                        dur=\"2s\" \r\n                        from=\"0 50 50\"\r\n                        to=\"360 50 50\" \r\n                        repeatCount=\"indefinite\" />\r\n                </path>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Loader;","class Utils {\r\n    static getProperty(object, pathToProperty) {\r\n        const path = pathToProperty.split(\".\");\r\n        let obj = object;\r\n        while(path.length > 1){\r\n            obj = obj[path.shift()];\r\n        }\r\n        return obj[path.shift()];\r\n    }\r\n}\r\n\r\nexport default Utils;","import React from 'react';\r\nimport Tile from '../tile/Tile';\r\nimport Loader from '../loader/Loader';\r\nimport Utils from '../../utils/Utils';\r\nimport Axios from 'axios';\r\n\r\nimport \"./Panel.css\"\r\n\r\nclass Panel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fetchStatus: 0, //0 - ready, 1 - fetching, 2 - error\r\n      offset: 0,\r\n      data: [],\r\n      filter: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Do the initial fetch\r\n    this.fetch();\r\n  }\r\n\r\n  fetch() {\r\n    // Design Notes: limit and fetch logic should be part of unit tests\r\n    let limit = 10;\r\n    if (this.state.total !== undefined) {\r\n      limit = Math.min(this.state.total - this.state.offset, 10);\r\n    }\r\n    if(limit > 0 && this.state.fetchStatus !== 1) {\r\n      this.setState({fetchStatus: 1});\r\n      Axios.get([this.props.tile.model.endpoint, \"?offset=\", this.state.offset, \"&limit=\", limit].join(\"\"))\r\n      .then((response) => {\r\n        this.setState({\r\n          data: this.state.data.concat(Utils.getProperty(response, this.props.tile.model.dataPath)),\r\n          fetchStatus: 0,\r\n          offset: this.state.offset + 10,\r\n          total: Utils.getProperty(response, this.props.tile.model.sizePath)\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          fetchStatus: 2,\r\n          errorCode: error\r\n        })\r\n      });\r\n    }\r\n  }\r\n\r\n  onTileSelected(item) {\r\n    if (this.props.selectCb) {\r\n      this.props.selectCb(item);\r\n    }\r\n  }\r\n\r\n  renderTiles() {\r\n    let data = this.state.data;\r\n    if (this.state.filter.length > 0) {\r\n      // Design notes: filtering should ideally be handled by the endpoint with proper pagination\r\n      data = data.filter((value) => {\r\n        return value[this.props.tile.model.filter].includes(this.state.filter);\r\n      });\r\n    }\r\n    \r\n    return data.map((item, i) => { \r\n        let props = {};\r\n        this.props.tile.model.proto.forEach((field) => {\r\n          props[field] = item[field];\r\n        });\r\n        return (\r\n            <Tile selected={this.props.selectedTile && this.props.selectedTile[\"ident\"] === item[\"ident\"]} key={[\"Tile\", this.props.tile.model.id, i].join(\"_\")} selectCb={this.onTileSelected.bind(this, item)} {...props} layout={this.props.tile.layout}/>\r\n        );\r\n    });\r\n  }\r\n\r\n  renderLoadMore() {\r\n    if (((this.state.total && this.state.total - this.state.offset > 0) || (this.state.total === undefined)) && this.state.fetchStatus === 0) {\r\n      return (<div className=\"LoadMoreButton\" onClick={() => {this.fetch()}}> Load More </div>);\r\n    }\r\n  }\r\n\r\n  renderFilter() {\r\n    const filter = this.props.tile.model.filter;\r\n    if (filter) {\r\n      const id = [\"PanelFilter\", this.props.tile.id, filter].join(\"_\");\r\n      return (<div> <input onChange={() => {\r\n          this.setState({filter: document.getElementById(id).value})\r\n        }} id={id} key={id} className=\"PanelFilter\" type=\"text\" placeholder={[\"Filter by\", filter].join(\" \")} /> </div>);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Panel\" style={{float: this.props.alignment}}>\r\n        <div className=\"PanelHeader\">\r\n          <div> \r\n            <img className=\"PanelHeaderLogo\" src={this.props.tile.logoUrl} alt=\"\"/> \r\n          </div>\r\n          <div> \r\n            {[this.props.tile.name, this.state.total ? [\" (\" + this.state.total + \")\"].join(\"\") : \"\"].join(\"\")} \r\n          </div>\r\n        </div>\r\n        {this.renderFilter()}\r\n        {this.renderTiles()}\r\n        {this.state.fetchStatus === 1 && (<Loader/>)}\r\n        {this.renderLoadMore()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Panel;\r\n","import React from 'react';\r\n\r\nclass Flight {\r\n\r\n  static config = {\r\n    id: \"Flight\",\r\n    name: \"Flights\",\r\n    logoUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/White_Globe_Icon.png/1200px-White_Globe_Icon.png\",\r\n    model: {\r\n      endpoint: \"https://infinite-dawn-93085.herokuapp.com/flights\",\r\n      dataPath: \"data.data\",\r\n      sizePath: \"data.pagination.total\",\r\n      proto: [\r\n        \"id\",\r\n        \"readable_departure\",\r\n        \"readable_arrival\",\r\n        \"origin\",\r\n        \"destination\"\r\n      ],\r\n      filter: \"origin\"\r\n    },\r\n    layout: function() {\r\n      return (\r\n        <div>\r\n            <div className=\"FlightName\"> {this.id} </div>\r\n            <div className=\"FlightDetails\">\r\n            <div className=\"FlightFrom\"> {this.origin}<br/>{this.readable_departure} </div>\r\n            <div className=\"FlightTo\"> {this.destination}<br/>{this.readable_arrival} </div>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n}\r\n\r\nexport default Flight;\r\n","import React from 'react';\r\n\r\nclass Aircraft {\r\n\r\n  static config = {\r\n    id: \"Aircraft\",\r\n    name: \"Aircrafts\",\r\n    logoUrl: \"https://domotexusa.com/wp-content/uploads/2017/12/DOMOTEX-USA19-icon-plane-white.png\",\r\n    model: {\r\n      endpoint: \"https://infinite-dawn-93085.herokuapp.com/aircrafts\",\r\n      dataPath: \"data.data\",\r\n      sizePath: \"data.pagination.total\",\r\n      proto: [\r\n        \"ident\",\r\n        \"type\"\r\n      ],\r\n    },\r\n    layout: function() {\r\n      return (\r\n        <div>\r\n            <div className=\"AircraftName\"> {[this.ident, \" (\", this.type, \")\"].join(\"\")} </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n}\r\n\r\nexport default Aircraft;\r\n","import React from 'react';\r\nimport './DatePicker.css';\r\n\r\nclass DatePicker extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"DatePicker\">\r\n        <div className=\"NavButton\" id={this.props.canGoBack ? \"NavButtonLeft\" : \"NavButtonLeftDisabled\"} onClick={() => { this.props.canGoBack && this.props.dateChangeCb(-1) }}> {\"<\"} </div>\r\n        {this.props.date}\r\n        <div className=\"NavButton\" id=\"NavButtonRight\" onClick={() => { this.props.dateChangeCb(1) }}> {\">\"} </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DatePicker;\r\n","import React from 'react';\r\nimport './AircraftDetails.css';\r\n\r\nclass AircraftDetails extends React.Component {\r\n\r\n    calculateUtilisation() {\r\n        return Math.trunc((this.props.rotation.reduce((total, current) => {\r\n            return total + (current.arrivaltime - current.departuretime);\r\n        }, 0) / 86400) * 100);\r\n\r\n    }\r\n\r\n    render() {\r\n        let title = this.props.aircraft ? [\"Rotation for \", this.props.aircraft.ident].join(\"\") : \"No Aircraft Selected.\",\r\n            details = this.props.aircraft ? [\"Type: \", this.props.aircraft.type, \" (\", this.props.aircraft.economySeats, \" seats) | Base Airport: \", this.props.aircraft.base].join(\"\") : \"\",\r\n            utilisation = this.props.aircraft ? [\"Current utilisation: \", this.calculateUtilisation(), \"%\"].join(\"\") : \"\";\r\n        return (\r\n            <div className=\"AircraftDetails\">\r\n                {title} <br /> {details} <br /> {utilisation}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AircraftDetails;\r\n","import React from 'react';\r\nimport './RotationTile.css';\r\nimport '../../data/Flight.css';\r\n\r\nclass RotationTile extends React.Component {\r\n    render() {\r\n      \r\n      return (\r\n        <div className=\"RotationTile\" onClick={() => {this.props.selectCb && this.props.selectCb()}}>\r\n            <div className=\"RotationFlightName\"> {[\"Flight:\", this.props.flight.id].join(\" \")} </div>\r\n            <div className=\"RotationFlightDetails\">\r\n                <div className=\"FlightFrom\"> {this.props.flight.origin}<br/>{this.props.flight.readable_departure} </div>\r\n                <div className=\"FlightTo\"> {this.props.flight.destination}<br/>{this.props.flight.readable_arrival} </div>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default RotationTile;\r\n","import React from 'react';\nimport Moment from 'moment';\nimport Panel from '../panel/Panel';\nimport Flight from '../../data/Flight';\nimport Aircraft from '../../data/Aircraft';\nimport DatePicker from '../date-picker/DatePicker';\nimport AircraftDetails from '../aircraft-details/AircraftDetails'\nimport RotationTile from '../rotation-tile/RotationTile'\nimport './App.css';\nimport '../../data/Flight.css';\nimport '../../data/Aircraft.css';\nimport logo from './logo.png';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.data = {\n    }\n    this.state = {\n      date: Moment().startOf('day'),\n      rotation: [],\n      toast: \"\"\n    };\n  }\n\n  currentDateString() {\n    const today = Moment().endOf('day');\n    const tomorrow = Moment().add(1, 'day').endOf('day');\n\n    if (this.state.date < today) return 'Today';\n    if (this.state.date < tomorrow) return 'Tomorrow';\n    return this.state.date.format(\"DD MMM YYYY\");\n  }\n\n  switchRotation(date) {\n    let dateKey = date.valueOf().toString(),\n      acKey = this.state.currentAircraft && this.state.currentAircraft.ident;\n    return (acKey && this.data[dateKey] && this.data[dateKey][acKey]) ? this.data[dateKey][acKey] : [];\n  }\n\n  validateAdd(flight) {\n    const secondsInTwentyMind = 1200;\n    if (this.state.rotation.length === 0) {\n      // NOTE: removing the condition (flight.origin === this.state.currentAircraft.base) for the sake\n      // of this assingment as the only aircraft we have in the endpoint is based in \"EEGK\" and we don't\n      // seem to have a flight with that origin in anywhere convenient in the flights list.\n      return true;\n    } else {\n      let destination = this.state.rotation[this.state.rotation.length - 1].destination;\n      let time = this.state.rotation[this.state.rotation.length - 1].arrivaltime;\n      if (destination !== flight.origin) {\n        this.showToast([\"New flight's origin should be \", destination, \".\"].join(\"\"));\n        return false;\n      } else if ((time + secondsInTwentyMind) > flight.departuretime) {\n        this.showToast(\"The next flight should be at least 20 minutes after the last one.\");\n        return false;\n      } else if (flight.arrivaltime < flight.departuretime) {\n        this.showToast(\"Aircrafts must land by midnight.\");\n        return false;\n      }\n      return true;\n    }\n    // TODO: check if we can find a flight in between a slot where flight(n)'s dest and flight(n+1)'s origin\n    // and times match the new flight's origin, dest and time. the design is more like a stack as it is.\n  }\n\n  showToast(message) {\n    this.setState({\n      toast: message\n    });\n    setTimeout(() => {\n      this.setState({\n        toast: \"\"\n      });\n    }, 3000);\n  }\n\n  onDateChanged(direction) {\n    let newDate = this.state.date.add(direction, 'day'),\n      rotation = this.switchRotation(newDate);\n    this.setState({\n      currentDate: newDate,\n      rotation: rotation\n    });\n    this.updateUtilisationBar(rotation);\n  }\n\n  onAircraftSelected(aircraft) {\n    let rotation = this.switchRotation(this.state.date);\n    this.setState({\n      currentAircraft: aircraft,\n      rotation: rotation\n    });\n    this.updateUtilisationBar(rotation);\n  }\n\n  onFlightSelected(flight) {\n    if (this.state.currentAircraft) {\n      if (this.validateAdd(flight)) {\n        let dateKey = this.state.date.valueOf().toString();\n        let acKey = this.state.currentAircraft && this.state.currentAircraft.ident;\n        // Design note: a bit of cheating here for the sake of this assignment's time limit,\n        // TODO: need to replace the this with a redux store\n        !this.data[dateKey] && (this.data[dateKey] = {});\n        !this.data[dateKey][acKey] && (this.data[dateKey][acKey] = []);\n        this.data[dateKey][acKey].push(flight);\n        this.setState({\n          rotation: this.data[dateKey][acKey]\n        });\n        this.showToast(\"Flight added to rotation.\");\n        this.updateUtilisationBar(this.data[dateKey][acKey]);\n      }\n    } else {\n      this.showToast(\"Select an aircraft first.\");\n    }\n  }\n\n  onDeleteFlight(flight) {\n    var rotation = this.switchRotation(this.state.date);\n    if (rotation.length > 0 && rotation[rotation.length - 1].id === flight.id) {\n      rotation.pop();\n      this.setState({\n        rotation: rotation\n      });\n      this.updateUtilisationBar(rotation);\n      this.showToast(\"Flight removed.\");\n    } else {\n      this.showToast(\"Removing this flight will lead to an empty flight to the next airport; try removing trailing flights first.\");\n    }\n  }\n\n  updateUtilisationBar(rotation) {\n    let canvas = this.refs.canvas;\n    if (canvas && canvas.getContext) {\n      let ctx = canvas.getContext('2d');\n      ctx.fillStyle = \"#101010\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      rotation.forEach((flight) => {\n        let flightStart = (flight.departuretime / 86400) * canvas.width;\n        let flightEnd = (flight.arrivaltime / 86400) * canvas.width;\n        let cooldownEnd = ((flight.arrivaltime + 1200) / 86400) * canvas.width;\n        ctx.fillStyle = \"green\";\n        ctx.fillRect(flightStart, 0, flightEnd - flightStart, canvas.height);\n        ctx.fillStyle = \"purple\";\n        ctx.fillRect(flightEnd, 0, cooldownEnd - flightEnd, canvas.height);\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"TopBar\">\n          <img className=\"Logo\" src={logo} alt=\"\" />\n          <div className=\"Toast\">{this.state.toast}</div>\n        </div>\n        <div className=\"Main\">\n          <Panel tile={Flight.config} alignment=\"right\" key=\"FlightPanel\" selectCb={this.onFlightSelected.bind(this)} />\n          <Panel tile={Aircraft.config} alignment=\"left\" key=\"AircraftsPanel\" selectCb={this.onAircraftSelected.bind(this)} selectedTile={this.state.currentAircraft} />\n          <div className=\"Editor\">\n            <DatePicker date={this.currentDateString()} dateChangeCb={this.onDateChanged.bind(this)} canGoBack={this.state.date > Moment().startOf('day')} />\n            <AircraftDetails aircraft={this.state.currentAircraft} rotation={this.state.rotation} />\n            <canvas className=\"UtilisationBar\" ref=\"canvas\"></canvas>\n            {this.state.rotation.map((flight, index) => { return (<RotationTile flight={flight} key={[\"RotationTile\", index].join()} selectCb={this.onDeleteFlight.bind(this, flight)} />) })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/app/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((<App />), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}